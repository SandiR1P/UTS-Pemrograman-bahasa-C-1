#include <stdio.h>
#include <unistd.h>

// Fungsi untuk menggerakan motor listrik utama
void putarMotorUtama(int rpm, int waktu) {
    printf("Motor listrik utama berputar dengan kecepatan %d rpm selama %d menit.\n", rpm, waktu);
    sleep(waktu * 60);
}

// Fungsi untuk menggerakan motor listrik pembuka klep
void putarMotorPembukaKlep(int waktu) {
    printf("Motor listrik pembuka klep berputar selama %d menit.\n", waktu);
    sleep(waktu * 60);
}

int main() {
    int levelKekeruhan[] = {6, 8, 12, 18, 24, 30, 36, 42, 49};
    int rpmMotorUtama[] = {800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600};
    int waktuMencuci[] = {45, 50, 55, 60, 65, 70, 75, 80, 85};

    int jumlahLevel = sizeof(levelKekeruhan) / sizeof(levelKekeruhan[0]);

    // Langkah 1
    printf("Motor listrik pembuka klep pengisian air aktif selama 2 menit sampai air penuh.\n");
    putarMotorPembukaKlep(2);

    // Langkah 2
    printf("Sensor turbidimeter aktif hanya satu kali untuk mendeteksi level kekeruhan air.\n");

    // Langkah 3 - 8
    for (int i = 0; i < jumlahLevel; i++) {
        printf("Level kekeruhan air = %d\n", levelKekeruhan[i]);
        putarMotorUtama(rpmMotorUtama[i], waktuMencuci[i] / 2); // Langkah 3
        printf("Motor listrik pembuka klep pembuangan air kotor aktif selama 2 menit sampai air kotor habis.\n"); // Langkah 5
        putarMotorPembukaKlep(2);
        if (i == jumlahLevel - 1) {
            break; // Jika sudah mencuci semua level, tidak perlu lanjut ke langkah 6 - 10
        }
        printf("Motor listrik utama berputar dengan kecepatan 2000 rpm untuk mengeringkan cucian selama 3 menit.\n"); // Langkah 6
        putarMotorUtama(2000, 3);
        printf("Motor listrik pembuka klep pengisian air aktif selama 2 menit sampai air penuh.\n"); // Langkah 7
        putarMotorPembukaKlep(2);
    }

    // Langkah 9 - 10
    printf("Motor listrik utama berputar dengan kecepatan 2000 rpm untuk mengeringkan cucian selama 3 menit.\n"); // Langkah 9
    putarMotorUtama(2000, 3);
    printf("Motor listrik pembuka klep pembuangan air kotor aktif selama 2 menit sampai air habis.\n"); // Langkah 10
    putarMotorPembukaKlep(2);

    return 0;
}
